(function(){define("jtLazyLoad",["jquery","underscore"],function(a,b){var c;c=function(b,c){var d,e,f,g,h,i,j;return d=a("jquery"),j=a("underscore"),i=d(window).height(),e=c||d(window),f=function(){var a;return c&&(a=c.scrollTop()),j.compact(j.map(b,function(b){var c;return b=d(b),b.find("img.hidden").length?(c=a?b.position().top+a:b.offset().top,{top:c,obj:b}):null}))},g=f(),h=j.debounce(function(){var a,b,f;return a=c||d(document),f=a.scrollTop()-300,b=f+i+600,g=j.filter(g,function(a){var c;return c=a.top,c>f&&b>c?(a.obj.find("img").each(function(){var a,b,c;return c=d(this),a=new Image,b=c.attr("data-src"),a.onload=function(){return c.removeClass("hidden")},a.src=b,c.attr("src",b)}),!1):!0}),g.length?void 0:e.off("scroll",h)},300),e.scroll(h)},c($(".directive-lazyload")),b.load=c})}).call(this);