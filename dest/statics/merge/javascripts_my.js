(function(){seajs.use(["jquery","underscore","Backbone","jtLazyLoad","utils"],function(a,b,c,d,e){var f;return f=c.View.extend({initialize:function(a){return this.id=a.id,this.template=b.template(a.html),this.getMyLikes(function(a){return function(b,c){return b?e.alert(b.message):a.render(c)}}(this))},getMyLikes:function(c){return a.ajax({url:"/user/"+this.id+"/like?cache=false",dataType:"json"}).success(function(a){var d,e;return a.length?(d=[[],[]],e=2,b.each(a,function(a,b){return d[b%e].push(a)}),c(null,d)):void c(new Error("还没有收藏任何宝贝哦！"))}).error(function(){return c(new Error("获取收藏宝贝失败！"))})},render:function(c){var e,f,g,h;return e=this.$el,g=Math.round(e.width()/2-5),h=this.template,f=[],b.each(c,function(a){var c;return c=['<div class="waterfall">'],b.each(a,function(a){var b;return b=a.size,a.height=Math.round(b[1]*g/b[0]),c.push(h(a))}),c.push("</div>"),f.push(c.join(""))}),e.html(f.join("")),d.load(e.find(".item"),a("#contentContainer .myLikeItemsContainer"))}}),JT_BRIDGE.on("deviceReady",function(){return JT_BRIDGE.call("appInfo",function(b,c){return(null!=c?c.id:void 0)?new f({id:c.id,html:a("#contentContainer .myLikeItemsContainer .itemTemplate").html(),el:"#contentContainer .myLikeItemsContainer .waterfallList"}):e.alert("获取收藏宝贝失败！")})}),"development"===CONFIG.env?seajs.emit("loadComplete"):void 0})}).call(this);